# Flask Experimental Chat Interface - Environment Configuration
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control - it contains secrets!

# =============================================================================
# Azure OpenAI Configuration (Required)
# =============================================================================
# Get these from your Azure OpenAI resource:
# https://portal.azure.com → Your OpenAI Resource → Keys and Endpoint

MODEL_ENDPOINT=https://your-resource-name.openai.azure.com/
MODEL_DEPLOYMENT=gpt-4
MODEL_API_VERSION=2024-02-15-preview
MODEL_SUBSCRIPTION_KEY=your-api-key-here

# =============================================================================
# Model Parameters (Required)
# =============================================================================
# Control the AI model's behavior

MODEL_TEMPERATURE=1.0
# Range: 0.0 (deterministic) to 2.0 (very creative)
# Recommended: 0.7 for general use, 1.0 for creative tasks

MODEL_MAX_COMPLETION_TOKENS=2500
# Maximum length of AI responses in tokens
# Recommended: 2500 (allows detailed responses without excessive cost)

MODEL_MAX_RETRIES=5
# Number of retry attempts if API call fails
# Recommended: 5 (handles transient errors)

MODEL_RETRY_DELAY=2.0
# Seconds to wait between retry attempts
# Recommended: 2.0 (balances responsiveness and politeness)

# =============================================================================
# Flask Configuration (Required)
# =============================================================================

FLASK_SECRET_KEY=change-this-to-a-random-secret-key-in-production
# Generate a secure key with:
# python -c 'import secrets; print(secrets.token_hex(32))'

# =============================================================================
# Security - Iframe Embedding Control (Optional but Recommended for Production)
# =============================================================================
# Comma-separated list of domains allowed to embed the chat interface
# Leave blank or commented out during development to allow all embedding
# Set before production to restrict to your survey platform only

# Examples:
#   Single domain:
#     ALLOWED_FRAME_ANCESTORS=yourschool.qualtrics.com
#
#   Multiple domains:
#     ALLOWED_FRAME_ANCESTORS=yourschool.qualtrics.com,yourschool.az1.qualtrics.com
#
#   Development (allow all):
#     ALLOWED_FRAME_ANCESTORS=
#
# ALLOWED_FRAME_ANCESTORS=

# =============================================================================
# Database (Optional)
# =============================================================================
# By default, uses SQLite database in data/chat_experiment.db
# Override with custom path if needed

# DATABASE_URL=sqlite:///path/to/custom/database.db
# Or for PostgreSQL (advanced):
# DATABASE_URL=postgresql://user:password@localhost/dbname

# =============================================================================
# Notes
# =============================================================================
# After creating .env:
# 1. Set file permissions: chmod 600 .env
# 2. Never commit .env to version control
# 3. Add .env to .gitignore
# 4. Share .env.example (this file) instead